{% extends "common/base_pagination.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div id="Chartcontainer" style="width: 500px; height: 400px;"></div>
<script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js" type="text/javascript"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>
		const AuthStr = 'Token '.concat(localStorage.getItem("token")); 
		axios.get(
				'http://localhost:8765/evcharge/api/KWstats/',
				{ headers: {
   					"X-OBSERVATORY-AUTH": AuthStr
 				}
			})
		.then( (response) => {
            console.log(response)
			var raf = new Array(response.data.length).fill(0).map(() => new Array(4).fill(0));
            /*for(var key in response.data){
            	raf[i] = key;
            }
    		for(var key in response.data){
    			//tbody += '<tr>';
    			tbody += '<td style="word-break:normal;">'+response.data[key]+'</td>'; 
    			//tbody += '</tr>';
    		}*/
            /*var chart = anychart.pie();
            // set the data
            chart.data([
              ["Chocolate", 5],
              ["Rhubarb compote", 2],
              ["CrÃªpe Suzette", 2],
              ["American blueberry", 2],
              ["Buttermilk", 1]
            ]);
            // set chart title
            chart.title("Charging classify");
            // set the container element 
            chart.container("Chartcontainer");
            // initiate chart display
            chart.draw();*/
        })
		.catch( (error) => {
			alert("Oops!! Something went wrong :(");
            console.log(error);
        })
</script>

{% endblock content %}